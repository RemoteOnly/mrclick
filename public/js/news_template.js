$(function(){"use strict";$(".star-o, .star").on("click",function(){var s=$("input[name=_csrf_token]").val(),a=$("input[name=school_slug]").val(),t="/api/"+a+"/news/template",e=$(this).hasClass("fa-star-o"),o=$(this),n="NG",r="";return $.ajax({url:t,type:"POST",dataType:"json",data:{news_id:o.siblings("input[name=nid]").val(),is_template:e,_csrf_token:s},timeout:1e4,async:!1,success:function(s){n=s.result,"OK"===n&&(r=e?"テンプレートとして登録しました":"テンプレートから削除しました")},error:function(s){console.log(s.statusText),r="エラーが発生しました"},complete:function(){$("#toast-message").stop().fadeOut(100,function(){$("#toast-message p").html(r),$("#toast-message").fadeIn(500).delay(2e3).fadeOut(500)}),"OK"===n&&(e?(o.removeClass("fa-star-o"),o.removeClass("star-o"),o.addClass("fa-star"),o.addClass("star")):(o.removeClass("fa-star"),o.removeClass("star"),o.addClass("fa-star-o"),o.addClass("star-o")))}}),!1})});