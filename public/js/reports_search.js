$(function(){"use strict";function e(e){"1"===e?($("#date-start").attr("placeholder","日付（開始日）"),$("#end-range").show()):($("#date-start").attr("placeholder","日付"),$("#date-end").attr("data-value",""),$("#date-end").val(""),$("#end-range").hide())}$("#teacher-selector").length>0&&$("#teacher-selector").select2(),$("#form-search").on("submit",function(){return $("#teacher-id").val($("#teacher-selector").val()),!0}),$("#grade-select").length>0&&$("#grade-select").select2(),$("#form-search").on("submit",function(){$("#grade").val($("#grade-select").val())}),e($("input[name='is_range']:checked").val()),$("input[name='is_range']").on("click",function(){e($(this).val())}),$("#x-select-all-reports").on("click",function(){$(this).prop("checked")?$('input[name="reports_ids[]"]').prop("checked",!0):$('input[name="reports_ids[]"]').prop("checked",!1)}),$('input[name="reports_ids[]"]').on("click",function(){$("#x-select-all-reports").prop("checked")?$("#x-select-all-reports").prop("checked",!1):$('input[name="reports_ids[]"]:checked').length===$('input[name="reports_ids[]"]').length&&$("#x-select-all-reports").prop("checked",!0)}),$("#details").hide(),$("#enter-details").on("change",function(){$(this).prop("checked")?$("#details").show():$("#details").hide()});var t=location.search.substring(1);if(t){for(var r=t.split("&"),a=[],n=0;n<r.length;n++){var c=r[n].split("=");a[c[0]]=c[1]}var s="grade",l="male",o="female",i="not_known";(a[s]||a[l]||a[o]||a[i])&&$("#enter-details").click()}var d=20,p=$("#allCount").val(),h=location.href.split("/"),u=h[h.indexOf("reports")-1];$(".read-more").on("click",function(){var e=h[h.indexOf("reports")+1];$.ajax({type:"GET",url:"/"+u+"/reports/"+e+"&ajax=1&offset="+d,dataType:"html",scriptCharset:"utf-8",success:function(e){$(".read-more").before(e),d+=20,d>p&&$(".read-more").hide()}})})});